(this["webpackJsonpreact-35-module-5"]=this["webpackJsonpreact-35-module-5"]||[]).push([[1],{40:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var a=r(33),n=r(0),c=function(e,t){var r=Object(n.useState)((function(){var r;return null!==(r=JSON.parse(localStorage.getItem(e)))&&void 0!==r?r:t})),c=Object(a.a)(r,2),s=c[0],u=c[1];return Object(n.useEffect)((function(){localStorage.setItem(e,JSON.stringify(s))}),[e,s]),[s,u]}},86:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return x}));var a=r(33),n=r(0),c=r(1);function s(e){var t=e.getSearchValues,r=Object(n.useState)(""),s=Object(a.a)(r,2),u=s[0],i=s[1],o=Object(n.useState)(5),h=Object(a.a)(o,2),l=h[0],p=h[1],b=function(e){var t=e.target,r=t.name,a=t.value;switch(r){case"searchValue":i(a);break;case"perPage":p(a)}};return Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("BEFORE FETCH",u,l),t(u,l),i("")},children:[Object(c.jsx)("input",{type:"text",name:"searchValue",value:u,onChange:b,placeholder:"Value"}),Object(c.jsx)("input",{type:"number",name:"perPage",value:l,onChange:b,placeholder:"how many results?"}),Object(c.jsx)("button",{type:"submit",children:"search"})]})}var u=r(41),i=r(54),o=r.n(i),h=r(56),l=r(36),p=r(37),b=r(57),g=r.n(b),j=function(){function e(t,r){Object(l.a)(this,e),this.base_url=t,this.api_key=r,this._searchQuery="",this._page=1,this._perPage=5,this.endPoint=""}return Object(p.a)(e,[{key:"searchQuery",get:function(){return this._searchQuery},set:function(e){return this._searchQuery=e}},{key:"page",get:function(){return this._page},set:function(e){return this._page+=e}},{key:"resetPage",value:function(){return this._page=1}},{key:"perPage",get:function(){return this._perPage},set:function(e){return this._perPage=e}},{key:"searchPhotos",value:function(){var e=Object(h.a)(o.a.mark((function e(){var t,r,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.a.defaults.baseURL=this.base_url,g.a.defaults.headers.common.Authorization=this.api_key,this.endPoint="search",console.log("searchQuery:",this.searchQuery,"page:",this.page,"perPage:",this.perPage),t="?query=".concat(this.searchQuery,"&page=").concat(this.page,"&per_page=").concat(this.perPage),r=this.endPoint+t,e.prev=6,e.next=9,g.a.get(r);case 9:if(a=e.sent,n=a.data.photos,400!==a.status){e.next=13;break}throw new Error;case 13:if(200!==a.status){e.next=15;break}return e.abrupt("return",n);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(6),e.abrupt("return",e.t0.message);case 20:case"end":return e.stop()}}),e,this,[[6,17]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),f=r(40),O=new j("https://api.pexels.com/v1/","563492ad6f91700001000001390f9fee0a794c1182a72e49e0e0eae2");function d(e){var t=e.searchValue,r=e.perPage,s=Object(f.a)("pexelImages",[]),i=Object(a.a)(s,2),o=i[0],h=i[1],l=Object(n.useState)("init"),p=Object(a.a)(l,2),b=p[0],g=p[1];Object(n.useEffect)((function(){t.trim()&&(g("pending"),O.resetPage(),O.searchQuery=t,O.perPage=r,O.searchPhotos().then((function(e){g("success"),h(e)})).catch((function(e){console.log(e),g("error")})))}),[t,r,h]);return"init"===b?Object(c.jsx)("h1",{children:"Hello! Search something"}):"pending"===b?Object(c.jsx)("h1",{children:"Wait please!"}):"success"===b?(console.log("success",o),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("ul",{style:{display:"flex",flexFlow:"row wrap"},children:o.length>0&&o.map((function(e){return Object(c.jsx)("li",{children:Object(c.jsx)("img",{src:e.src.tiny,alt:e.photographer})},e.id)}))}),Object(c.jsx)("button",{type:"button",onClick:function(){O.page=1,O.searchPhotos().then((function(e){h((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e))})),console.log("setSearchResults",e),g("success")})).catch((function(e){g("error")}))},children:"load more"})]})):"error"===b?Object(c.jsx)("h1",{children:"ALARMA!!!"}):void 0}function x(e){var t=e.title,r=Object(n.useState)(""),u=Object(a.a)(r,2),i=u[0],o=u[1],h=Object(n.useState)(5),l=Object(a.a)(h,2),p=l[0],b=l[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:t}),Object(c.jsx)(s,{getSearchValues:function(e,t){o(e),b(t)}}),Object(c.jsx)(d,{searchValue:i,perPage:p})]})}}}]);
//# sourceMappingURL=Pexels Page.b6da9630.chunk.js.map